<div layout="row" ng-init="getSalesOrderList();getMerchantStore()">

	<div layout="row" flex=20>
		<h3 layout-padding layout-align="start center">Sales Order</h3>
	</div>

	<div layout="row">
		<md-datepicker style="background: none;" layout-padding
			layout-align="end center" class="bg-none" ng-model="fromDate"
			ng-change="getSalesByDate()" md-placeholder="From"></md-datepicker>
		<md-datepicker style="background: none;" layout-padding
			layout-align="end center" class="bg-none" ng-model="toDate"
			ng-change="getSalesByDate()" md-placeholder="To"></md-datepicker>
		<md-input-container ng-hide="user.role == 'STOREADMIN'" style="height: 37px; padding: 2px 20px;">
		<label>Store</label> <md-select name="myModel" ng-model="storeId" ng-change="storeFilter()"
			required> <md-option ng-repeat="stores in merchantStore" value="{{stores.storeId}}" >{{stores.storeName}}</md-option> 
	    </md-input-container>
	</div>

	<div layout="row" flex=20>
		<md-input-container md-theme="input" flex style="height: 72px;">
		<label>&nbsp;</label> <input style="border-bottom-color: #B0B0B0;" ng-model="search"
			placeholder="enter search"> </md-input-container>
		<ng-md-icon icon="search" style="line-height: 5;"></ng-md-icon>
	</div>
</div>
<md-card flex-gt-sm="90" flex-gt-md="80">

<md-data-table-container>
<table md-data-table class="md-primary"
	md-progress="deferred">
	<thead md-order="query.order" md-trigger="onorderchange">
		<tr>
              <th order-by="address.firstName" name="Customer"></th>
<!--               <th order-by="address.firstName" name="Products"></th>
 -->              <th order-by="orderId" name="Ref-no"></th>
              <th numeric order-by="address.address" name="Delivery Address"></th>
              <th numeric order-by="warehouse.warehouseName" name="Warehouse"></th>
              <th numeric order-by="orderStatus" name="Status"></th>
              <th numeric order-by="shippingCharge" name="Shipping Charge"></th>
              <th numeric order-by="created" name="Order Date"></th>
              <th numeric order-by="deliveryDate" name="Delivery Date"></th>
              <th numeric order-by="store.storeName" name="Store"></th>
              <th numeric order-by="totalAmount" name="Net"></th>
              <th numeric order-by="orderGrossAmount" name="Gross"></th>
              <th name="View Details"></th>
            </tr>
	</thead>
	<tbody>
		<tr ng-repeat="salesOrder in salesOrderList | orderBy: query.order | limitTo: query.limit: (query.page - 1) * query.limit | filter:search">
			<td>{{salesOrder.address.firstName}} {{salesOrder.address.lastName}}</td>
			<!-- <td><md-select ng-model="dessert.type" placeholder="Other">
				<md-option ng-value="type" ng-repeat="type in getTypes()">{{type}}</md-option>
				</md-select></td> -->
			<td>{{salesOrder.orderId}}</td>	
			<td>{{salesOrder.address.address}},{{salesOrder.address.city}},{{salesOrder.address.state}}</td>
			<td>{{salesOrder.warehouse.warehouseName}}</td>
			<td>{{salesOrder.orderStatus}}</td>
			<td>{{salesOrder.shippingCharge}}</td>
			<td>{{salesOrder.created}}</td>
			<td>{{salesOrder.deliveryDate}}</td>
			<td>{{salesOrder.store.storeName}}</td>
			<td>{{salesOrder.totalAmount}}</td>
			<td>{{salesOrder.orderGrossAmount}}</td>
			<td><md-button class="md-raised md-primary" ng-click="getSalesDetails(salesOrder)">VIEW DETAILS</md-button></td>
		</tr>
	</tbody>
</table>
</md-data-table-container> <md-data-table-pagination md-limit="query.limit" md-page="query.page"
	md-total="{{count}}" md-trigger="onpagechange"></md-data-table-pagination>
</md-card>
</md-card>
